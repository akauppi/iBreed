<!DOCTYPE html>

<html>
    <head>
        <style type="text/css">
            #dropTarget {width:80%;height:70px;padding:10px;border:1px dashed #aaaaaa;}
        </style>
        <script type="text/javascript">
            // Dialogs handlers
            function callAlert() {
                alert("I'm an alert...");
            }
            function callPrompt() {
                var answer = prompt("I'm a Prompt...", "Default input text");
            }
            function callPrompt() {
                var answer = confirm("I'm a confirm dialog...");
            }

            // JS to Java 
            function callJavaFX() {
                // If JS to Java bridge exists...
                if (toJava) {
                    toJava.sendFromJS("Message from HTML button to JavaFX: "+new Date());
                }
            }

            // Drag an drop
            function allowDrop(ev)
            {
                ev.preventDefault();
                //window.status = "Drag over this drop container";
            }

            function drag(ev)
            {
                ev.dataTransfer.setData("text/plain", ev.target.id);
               
                ev.dataTransfer.effectAllowed = 'move';
                ev.target.style.opacity = '0.4';  // Add a drag effect on source object
                // Drag image (feedback), not yet supported by JavaFX WebView
                // var dragIcon = document.createElement('img');
                // dragIcon.src = 'up_64.png';
                // dragIcon.width=100;
                //ev.dataTransfer.setDragImage(dragIcon,-10,-10);
                window.status = "Drag of " + ev.target.id + " initiated";
            }

            function drop(ev)
            {
                ev.preventDefault();
                var data = ev.dataTransfer.getData("text/plain");
                var element = document.getElementById(data);

                if (element) {
                    ev.target.appendChild(element);
                    window.status = "Drop of element " + data + " done.";

                }
                else {
                    window.status = "Drop of an image coming from JavaFX";
                    element=document.create("img");
                    element.src=data;
                    ev.target.appendChild(element);

                }
            }
            function dragEnd(ev)
            {
                var data = ev.dataTransfer.getData("text/plain");
                var element = document.getElementById(data);
                // Remove drag effect
                ev.target.style.opacity = '1';
                window.status = "Drag end.";
            }
        </script>	
    </head>
    <body style="width:90%;height:90%">
        <p>#1 Test: Dialogs section</p>
        Examples of built-in dialogs handlers
        <div>
            <button type="button"  onclick="callPrompt();">Prompt</button>
            <button type="button"  onclick="callConfirm();">Confirm</button>
            <button type="button"  onclick="callAlert();">Alert</button>
            <button type="button"  onclick="callJavaFX();">Call JavaFX</button>
        </div>
        <br>
        <p>#2 Test: Native html5 drag and drop section</p>

        <br>
        <div id="dropTarget" ondrop="drop(event);" ondragover="allowDrop(event);"></div>
        <br>
        <img id="imageID" src="up_64.png" draggable="true" ondragstart="drag(event);" ondragend="dragEnd(event)" width="64" height="64">
        Drag the green arrow into the rectangle
    </body>
</html>
